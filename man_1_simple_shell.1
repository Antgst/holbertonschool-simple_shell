.\" Man page for simple_shell (Holberton)
.TH SIMPLE_SHELL 1 "January 2026" "Holberton School" "User Commands Manual"

.SH NAME

hsh \- minimal UNIX command line interpreter (Holberton Simple Shell)

.SH SYNOPSIS
.B ./hsh
.PP
.BR "echo " \&"command" " | ./hsh"
.PP
.BR "cat " file " | ./hsh"

.SH DESCRIPTION
.B hsh
is a minimal UNIX command line interpreter that reads commands from standard input,
tokenizes them into an argument vector, resolves the executable (using
.B PATH
when needed), then executes commands using
.BR fork (2)
and
.BR execve (2),
and waits for completion with
.BR waitpid (2).
.PP
Project requirement (subject): unless specified otherwise, the program should produce
the same output and error output as
.BR sh (1)
(/bin/sh). The only difference is that, when printing an error, the program name must
match
.I argv[0]
(as executed).
.PP
This repository implements interactive and non-interactive modes, arguments, PATH resolution,
and the built-ins
.BR exit
and
.BR env .

.SH MODES
.TP
.B Interactive mode
When standard input is a TTY, the shell prints the prompt:
.BR "$ "
then reads one line, executes it, and repeats.
.TP
.B Non-interactive mode
When standard input is not a TTY, the shell reads commands from standard input without a prompt.

.SH BUILTINS
.TP
.B exit
Exit the shell. No argument handling is implemented. The exit status is the stored status of the
last executed command.
.TP
.B env
Print the current environment, one variable per line, to standard output.
.SH PATH RESOLUTION
If the command contains a slash
.RB ( / ),
.B hsh
attempts to execute it as provided (no PATH search).
Otherwise,
.B hsh
searches each directory listed in the
.B PATH
environment variable and executes the first match found.
.PP
If no executable path can be resolved, the shell prints a "not found" error and does not call
.BR fork (2).

.SH EXIT STATUS
The shell returns the status of the last executed command:
.TP
.B 0
Success.
.TP
.B 127
Command not found (no executable could be resolved).
.TP
.B 126
Execution failed after a path was resolved (child prints an "acces denied" error before exiting).
.PP

.SH ERROR FORMAT
On errors, messages are printed to standard error using the program name from
.I argv[0].
.PP
Command not found:
.PP
.nf
<shell_name>: <line_number>: <command>: not found
.fi
.PP
Execution failure after a path is resolved (current message):
.PP
.nf
<shell_name>: <line_number>: <command>: acces denied
.fi

.SH LIMITATIONS
This shell does not implement advanced features such as pipes, separators, redirections,
quoting/escaping, globbing, history, aliases, or job control.
.SH NOTES
The subject asks for strict /bin/sh parity. The current repository has known differences, including:
.IP \[bu] 2
Prompt is
.B "$ "
(subject examples show
.BR "($) " ).
.IP \[bu]
The
.B env
built-in does not update the stored "last status" in the main loop.
.IP \[bu]
A non-executable pathname containing a slash (e.g.
.BR ./file_without_x )
is treated as "not found" (127) by path resolution, while /bin/sh typically reports "Permission denied" (126).

.SH SEE ALSO
.BR sh (1),
.BR bash (1),
.BR fork (2),
.BR execve (2),
.BR waitpid (2),
.BR getline (3),
.BR access (2),
.BR stat (2),
.BR environ (7)

.SH AUTHORS
See the
.B AUTHORS
file in the project repository.
